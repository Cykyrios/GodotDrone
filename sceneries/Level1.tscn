[gd_scene load_steps=29 format=3 uid="uid://bdyif1vqok2vp"]

[ext_resource type="PackedScene" path="res://tracks/tracks/Track_TorusTunnel.tscn" id="1"]
[ext_resource type="Script" path="res://sceneries/Level.gd" id="3"]
[ext_resource type="Shader" uid="uid://b1gnbvtmovyv4" path="res://Assets/GridShader.tres" id="4"]
[ext_resource type="Script" path="res://drone/RadioController.gd" id="5"]
[ext_resource type="PackedScene" path="res://drone/drones/Drone1.tscn" id="6"]
[ext_resource type="PackedScene" path="res://tracks/tracks/Track_MultiGP_2018_Regional_Qualifier.tscn" id="7"]
[ext_resource type="PackedScene" uid="uid://cpwlqiq68no60" path="res://sceneries/cameras/FlyaroundCamera.tscn" id="8"]
[ext_resource type="PackedScene" uid="uid://cbsls72667u5s" path="res://sceneries/cameras/FollowCamera.tscn" id="9"]
[ext_resource type="PackedScene" path="res://tracks/tracks/Track_DoubleGateTraining.tscn" id="10"]
[ext_resource type="PackedScene" path="res://tracks/tracks/Track_FigureEight.tscn" id="11"]
[ext_resource type="PackedScene" path="res://tracks/tracks/Track_MultiGP_2020_Global_Qualifier.tscn" id="12"]
[ext_resource type="PackedScene" path="res://tracks/tracks/Track_MultiGP_2018_Regional_Final.tscn" id="13"]
[ext_resource type="Script" path="res://drone/FPVCamera/FPVCamera.gd" id="14"]
[ext_resource type="PackedScene" path="res://tracks/tracks/Track_MultiGP_2019_Global_Qualifier.tscn" id="15"]
[ext_resource type="PackedScene" path="res://tracks/tracks/Track_MultiGP_2021_Global_Qualifier.tscn" id="16"]
[ext_resource type="PackedScene" path="res://tracks/tracks/Track_MultiGP_2022_Global_Qualifier.tscn" id="17"]

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_730eg"]

[sub_resource type="Sky" id="Sky_8cqmd"]
sky_material = SubResource("PhysicalSkyMaterial_730eg")

[sub_resource type="Environment" id="Environment_bxx2h"]
background_mode = 2
sky = SubResource("Sky_8cqmd")
ambient_light_source = 3
reflected_light_source = 2
tonemap_mode = 2
sdfgi_use_occlusion = true
glow_enabled = true
fog_density = 0.0
fog_aerial_perspective = 0.5

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_ybxki"]
auto_exposure_enabled = true

[sub_resource type="BoxShape3D" id="1"]
size = Vector3(40, 1, 40)

[sub_resource type="ShaderMaterial" id="2"]
render_priority = 0
shader = ExtResource("4")
shader_parameter/Color1 = Color(0.501961, 0.501961, 0.501961, 1)
shader_parameter/Color2 = Color(0, 0, 0, 1)
shader_parameter/TileX = 50.0
shader_parameter/TileY = 50.0

[sub_resource type="BoxMesh" id="3"]
material = SubResource("2")
size = Vector3(200, 1, 200)

[sub_resource type="BoxShape3D" id="4"]
size = Vector3(4, 1, 4)

[sub_resource type="ShaderMaterial" id="5"]
render_priority = 0
shader = ExtResource("4")
shader_parameter/Color1 = Color(0.501961, 0.501961, 0.501961, 1)
shader_parameter/Color2 = Color(0, 0, 0, 1)
shader_parameter/TileX = 1.0
shader_parameter/TileY = 1.0

[sub_resource type="BoxMesh" id="6"]
material = SubResource("5")
size = Vector3(4, 1, 4)

[sub_resource type="CapsuleMesh" id="7"]
radius = 0.3
height = 1.8

[sub_resource type="CapsuleShape3D" id="8"]
radius = 0.3
height = 1.8

[node name="Level" type="Node3D"]
process_mode = 1
script = ExtResource("3")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_bxx2h")
camera_attributes = SubResource("CameraAttributesPractical_ybxki")

[node name="Respawn" type="Node3D" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.860577, 0.207325, -0.465214, 0.509321, -0.350308, 0.786051, 0, -0.913401, -0.407062, 0, 20, 0)
shadow_enabled = true
shadow_bias = 0.0
directional_shadow_blend_splits = true

[node name="CameraFixed" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.939693, 0.34202, 0, -0.34202, 0.939693, 0, 8, 20)
near = 0.1
far = 1000.0

[node name="FollowCamera" parent="." instance=ExtResource("9")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 2)
near = 0.1
far = 1000.0
target = NodePath("../Drone")
target_distance = 1.0
target_offset = Vector3(0, 0.2, 0)
camera_offset = Vector3(0, 0.5, 2)
speed = 10.0

[node name="FlyaroundCamera" parent="." instance=ExtResource("8")]
process_mode = 3
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 5)

[node name="Drone" parent="." instance=ExtResource("6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.05, 0)
expo_pitch = 0.3
expo_roll = 0.3
expo_yaw = 0.3

[node name="FPVCamera" type="Camera3D" parent="Drone"]
transform = Transform3D(1, 0, 0, 0, 0.866025, -0.5, 0, 0.5, 0.866025, 0, 0.00459784, -0.0626912)
script = ExtResource("14")
clip_near = 0.006

[node name="Objects" type="Node3D" parent="."]

[node name="Ground" type="StaticBody3D" parent="Objects"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("1")

[node name="CollisionShape2" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -40, -0.5, 0)
shape = SubResource("1")

[node name="CollisionShape3" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -80, -0.5, 0)
shape = SubResource("1")

[node name="CollisionShape4" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 80, -0.5, 0)
shape = SubResource("1")

[node name="CollisionShape5" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 40, -0.5, 0)
shape = SubResource("1")

[node name="CollisionShape6" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, -40)
shape = SubResource("1")

[node name="CollisionShape7" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -40, -0.5, -40)
shape = SubResource("1")

[node name="CollisionShape8" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -80, -0.5, -40)
shape = SubResource("1")

[node name="CollisionShape9" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 80, -0.5, -40)
shape = SubResource("1")

[node name="CollisionShape10" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 40, -0.5, -40)
shape = SubResource("1")

[node name="CollisionShape11" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, -80)
shape = SubResource("1")

[node name="CollisionShape12" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -40, -0.5, -80)
shape = SubResource("1")

[node name="CollisionShape13" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -80, -0.5, -80)
shape = SubResource("1")

[node name="CollisionShape14" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 80, -0.5, -80)
shape = SubResource("1")

[node name="CollisionShape15" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 40, -0.5, -80)
shape = SubResource("1")

[node name="CollisionShape16" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 40)
shape = SubResource("1")

[node name="CollisionShape17" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -40, -0.5, 40)
shape = SubResource("1")

[node name="CollisionShape18" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -80, -0.5, 40)
shape = SubResource("1")

[node name="CollisionShape19" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 80, -0.5, 40)
shape = SubResource("1")

[node name="CollisionShape20" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 40, -0.5, 40)
shape = SubResource("1")

[node name="CollisionShape21" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 80)
shape = SubResource("1")

[node name="CollisionShape22" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -40, -0.5, 80)
shape = SubResource("1")

[node name="CollisionShape23" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -80, -0.5, 80)
shape = SubResource("1")

[node name="CollisionShape24" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 80, -0.5, 80)
shape = SubResource("1")

[node name="CollisionShape25" type="CollisionShape3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 40, -0.5, 80)
shape = SubResource("1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Objects/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
mesh = SubResource("3")

[node name="Pillar3" type="StaticBody3D" parent="Objects"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 10)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Objects/Pillar3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Objects/Pillar3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
mesh = SubResource("6")

[node name="MockPilot" type="StaticBody3D" parent="Objects"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 5)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Objects/MockPilot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
mesh = SubResource("7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Objects/MockPilot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("8")

[node name="RadioController" type="Node" parent="."]
script = ExtResource("5")
target_path = NodePath("../Drone")

[node name="Track_DoubleGateTraining" parent="." instance=ExtResource("10")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25, 0, 30)

[node name="Track_FigureEight" parent="." instance=ExtResource("11")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 42, 0, 0)
edit_track = false

[node name="Track_MultiGP_2018_Regional_Qualifier" parent="." instance=ExtResource("7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 0, 80)

[node name="Track_MultiGP_2020_Global_Qualifier" parent="." instance=ExtResource("12")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 65, 0, 30)

[node name="Track_MultiGP_2018_Regional_Final" parent="." instance=ExtResource("13")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -70, 0, -50)

[node name="Track_MultiGP_2019_Global_Qualifier" parent="." instance=ExtResource("15")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 60, 0, -80)

[node name="TorusTunnel" parent="." instance=ExtResource("1")]

[node name="Track_MultiGP_2021_Global_Qualifier" parent="." instance=ExtResource("16")]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -65, 0, 20)

[node name="Track_MultiGP_2022_Global_Qualifier" parent="." instance=ExtResource("17")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 70, 0, 0)
edit_track = false
selected_checkpoint = -1
